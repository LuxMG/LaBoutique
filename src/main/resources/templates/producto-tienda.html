<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

    <head>
        <meta charset="UTF-8" />
        <meta content="width=device-width, initial-scale=1.0" name="viewport" />
        <meta content="ie=edge" http-equiv="X-UA-Compatible" />
        <meta content="La Boutique " name="description" />
        <meta content="La Boutique" name="author" />
        <title>La Boutique</title>
        <!-- Link al CSS de BOOTSTRAP -->
        <link rel="stylesheet" th:href="@{/assets/bootstrap.min.css}" />
        <!-- Link a nuestro CSS -->
        <link rel="stylesheet" th:href="@{/css/style.css}" />
    </head>

    <body>
        <!-- HEADER-->
        <header th:replace="${session.id != null} ? ~{fragments/header :: header} : ~{fragments/header-index :: header-index}"></header>
        <!-- MAIN-->
        <main>
            
            <form method="post" th:action="${#strings.equals(session.rol,'Donante')} ? @{/producto/donar} : @{/producto/comprar}" th:object="${producto}">

                <div class="container">
                    <div class="row  mt-5">
                        <h1 id ="detalle-titulo" th:text="${producto.titulo}" class="text-center"></h1>  
                        </div>
                    <div class="row">
                        <div class="col">

                                                      
                            <img id="img_detalle" th:src="${'/foto/__${producto.foto.id}__'}" />
                        </div>

                        <div class="col">
                    
                            <input name="producto" th:value="${producto.id}" hidden />

                            <label id="texto-detalle" for="" >Descripci√≥n:</label>
                            <p th:text="${producto.descripcion}"></p>

                            <label for="" id="texto-detalle">Estado:</label>
                            <p th:text="${producto.estado}"></p>
      
                          <!--  <button type="submit" class="btn btn-primary" th:if="${#strings.equals(producto.estado, 'Disponible')}">Comprar</button> -->                
                            <label for="" id="texto-detalle">Barrio/zona:</label>
                            <p th:text="${#strings.equals(session.rol,'Donante')} ? ${producto.beneficiario.barrio} : ${producto.donante.barrio}" ></p>
                            
                            <button type="submit" class="btn btn-card" th:if="${#strings.equals(producto.estado, 'Disponible')}"
                                 th:text="${#strings.equals(session.rol,'Donante')} ? 'Cumplir Deseo' : 'Comprar'"></button>
                        </div>
                    </div>
                </div>
                <br>
                <br>
                <br>
                <br>
            </form>

        </main>
        <!--FOOTER-->
        <footer th:replace="fragments/footer :: footer"></footer>
        <!-- Link al JS de Bootstrap-->
        <script th:src="@{/assets/bootstrap.bundle.min.js}"></script>
    </body>

</html>
